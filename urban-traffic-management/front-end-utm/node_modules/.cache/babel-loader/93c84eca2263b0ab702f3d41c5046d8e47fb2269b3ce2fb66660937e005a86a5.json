{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"StatisticsView\",\n  data() {\n    return {\n      workerApplyCountChart: null,\n      userPublishCountChart: null,\n      workerApplyCountOption: {\n        xAxis: {\n          type: 'category',\n          data: ['未领取', '未完成', '已完成']\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'bar'\n        }]\n      },\n      userPublishCountOption: {\n        xAxis: {\n          type: 'category',\n          data: []\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'bar'\n        }]\n      }\n    };\n  },\n  methods: {\n    initWorkerApplyCountChart() {\n      this.workerApplyCountChart = this.$echarts.init(this.$refs.workerApplyCountChart, 'dark');\n      // 使用刚指定的配置项和数据显示图表。\n      this.workerApplyCountChart.setOption(this.workerApplyCountOption);\n    },\n    getWorkerApplyCountData() {\n      this.$http.get('/statistics/worker-apply-count').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.workerName);\n          arr2.push(item.count);\n        });\n        this.workerApplyCountOption.xAxis.data = arr1;\n        this.workerApplyCountOption.series[0].data = arr2;\n        this.initWorkerApplyCountChart();\n      });\n    },\n    initUserPublishCountChart() {\n      this.userPublishCountChart = this.$echarts.init(this.$refs.userPublishCountChart, 'dark');\n      // 使用刚指定的配置项和数据显示图表。\n      this.userPublishCountChart.setOption(this.userPublishCountOption);\n    },\n    getUserPublishCountData() {\n      this.$http.get('/statistics/user-publish-count').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.userName);\n          arr2.push(item.count);\n        });\n        this.userPublishCountOption.xAxis.data = arr1;\n        this.userPublishCountOption.series[0].data = arr2;\n        this.initUserPublishCountChart();\n      });\n    }\n  },\n  mounted() {\n    this.getWorkerApplyCountData();\n    this.getUserPublishCountData();\n  }\n};","map":{"version":3,"names":["name","data","workerApplyCountChart","userPublishCountChart","workerApplyCountOption","xAxis","type","yAxis","series","userPublishCountOption","methods","initWorkerApplyCountChart","$echarts","init","$refs","setOption","getWorkerApplyCountData","$http","get","then","arr1","arr2","forEach","item","push","workerName","count","initUserPublishCountChart","getUserPublishCountData","userName","mounted"],"sources":["src/views/StatisticsView.vue"],"sourcesContent":["<template>\r\n<div>\r\n  <div>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>优秀工作人员排行榜</span>\r\n      </div>\r\n      <div>\r\n        <div class=\"box-pie\" style=\"height: 350px;width: 100%\" ref=\"workerApplyCountChart\"></div>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"box-card\" style=\"margin-top: 10px\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>优秀市民排行榜</span>\r\n      </div>\r\n      <div>\r\n        <div class=\"box-pie\" style=\"height: 350px;width: 100%\" ref=\"userPublishCountChart\"></div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"StatisticsView\",\r\n  data() {\r\n    return{\r\n      workerApplyCountChart: null,\r\n      userPublishCountChart:null,\r\n      workerApplyCountOption : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: ['未领取','未完成','已完成']\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'bar'\r\n          }\r\n        ]\r\n      },\r\n      userPublishCountOption : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'bar'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initWorkerApplyCountChart() {\r\n      this.workerApplyCountChart = this.$echarts.init(this.$refs.workerApplyCountChart,'dark')\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      this.workerApplyCountChart.setOption(this.workerApplyCountOption)\r\n    },\r\n    getWorkerApplyCountData() {\r\n      this.$http.get('/statistics/worker-apply-count')\r\n      .then((data) => {\r\n        let arr1 = []\r\n        let arr2 = []\r\n        data.forEach((item) => {\r\n          arr1.push(item.workerName)\r\n          arr2.push(item.count)\r\n        })\r\n        this.workerApplyCountOption.xAxis.data = arr1\r\n        this.workerApplyCountOption.series[0].data = arr2\r\n        this.initWorkerApplyCountChart()\r\n      })\r\n    },\r\n    initUserPublishCountChart() {\r\n      this.userPublishCountChart = this.$echarts.init(this.$refs.userPublishCountChart,'dark')\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      this.userPublishCountChart.setOption(this.userPublishCountOption)\r\n    },\r\n    getUserPublishCountData() {\r\n      this.$http.get('/statistics/user-publish-count')\r\n          .then((data) => {\r\n            let arr1 = []\r\n            let arr2 = []\r\n            data.forEach((item) => {\r\n              arr1.push(item.userName)\r\n              arr2.push(item.count)\r\n            })\r\n            this.userPublishCountOption.xAxis.data = arr1\r\n            this.userPublishCountOption.series[0].data = arr2\r\n            this.initUserPublishCountChart()\r\n          })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getWorkerApplyCountData()\r\n    this.getUserPublishCountData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAwBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,qBAAA;MACAC,qBAAA;MACAC,sBAAA;QACAC,KAAA;UACAC,IAAA;UACAL,IAAA;QACA;QACAM,KAAA;UACAD,IAAA;QACA;QACAE,MAAA,GACA;UACAP,IAAA;UACAK,IAAA;QACA;MAEA;MACAG,sBAAA;QACAJ,KAAA;UACAC,IAAA;UACAL,IAAA;QACA;QACAM,KAAA;UACAD,IAAA;QACA;QACAE,MAAA,GACA;UACAP,IAAA;UACAK,IAAA;QACA;MAEA;IACA;EACA;EACAI,OAAA;IACAC,0BAAA;MACA,KAAAT,qBAAA,QAAAU,QAAA,CAAAC,IAAA,MAAAC,KAAA,CAAAZ,qBAAA;MACA;MACA,KAAAA,qBAAA,CAAAa,SAAA,MAAAX,sBAAA;IACA;IACAY,wBAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,mCACAC,IAAA,CAAAlB,IAAA;QACA,IAAAmB,IAAA;QACA,IAAAC,IAAA;QACApB,IAAA,CAAAqB,OAAA,CAAAC,IAAA;UACAH,IAAA,CAAAI,IAAA,CAAAD,IAAA,CAAAE,UAAA;UACAJ,IAAA,CAAAG,IAAA,CAAAD,IAAA,CAAAG,KAAA;QACA;QACA,KAAAtB,sBAAA,CAAAC,KAAA,CAAAJ,IAAA,GAAAmB,IAAA;QACA,KAAAhB,sBAAA,CAAAI,MAAA,IAAAP,IAAA,GAAAoB,IAAA;QACA,KAAAV,yBAAA;MACA;IACA;IACAgB,0BAAA;MACA,KAAAxB,qBAAA,QAAAS,QAAA,CAAAC,IAAA,MAAAC,KAAA,CAAAX,qBAAA;MACA;MACA,KAAAA,qBAAA,CAAAY,SAAA,MAAAN,sBAAA;IACA;IACAmB,wBAAA;MACA,KAAAX,KAAA,CAAAC,GAAA,mCACAC,IAAA,CAAAlB,IAAA;QACA,IAAAmB,IAAA;QACA,IAAAC,IAAA;QACApB,IAAA,CAAAqB,OAAA,CAAAC,IAAA;UACAH,IAAA,CAAAI,IAAA,CAAAD,IAAA,CAAAM,QAAA;UACAR,IAAA,CAAAG,IAAA,CAAAD,IAAA,CAAAG,KAAA;QACA;QACA,KAAAjB,sBAAA,CAAAJ,KAAA,CAAAJ,IAAA,GAAAmB,IAAA;QACA,KAAAX,sBAAA,CAAAD,MAAA,IAAAP,IAAA,GAAAoB,IAAA;QACA,KAAAM,yBAAA;MACA;IACA;EACA;EACAG,QAAA;IACA,KAAAd,uBAAA;IACA,KAAAY,uBAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}