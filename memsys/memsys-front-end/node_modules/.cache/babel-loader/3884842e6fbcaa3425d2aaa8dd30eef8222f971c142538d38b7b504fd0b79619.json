{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"StatisticsView\",\n  data() {\n    return {\n      chart1: null,\n      chart2: null,\n      chart3: null,\n      chart4: null,\n      option1: {\n        xAxis: {\n          type: 'category',\n          data: []\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'bar'\n        }]\n      },\n      option2: {\n        xAxis: {\n          type: 'category',\n          data: []\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'line'\n        }]\n      },\n      option3: {\n        xAxis: {\n          type: 'category',\n          data: []\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'pie'\n        }]\n      },\n      option4: {\n        xAxis: {\n          type: 'category',\n          data: []\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [],\n          type: 'scatter'\n        }]\n      },\n      type1: 'bar',\n      theme1: 'dark',\n      type2: 'line',\n      theme2: 'dark',\n      type3: 'pie',\n      theme3: 'dark',\n      type4: 'scatter',\n      theme4: 'dark'\n    };\n  },\n  methods: {\n    initChart1() {\n      this.$http.get('/statistics/s4').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.deptName);\n          arr2.push(item.count);\n        });\n        this.option1.series[0].data = arr2;\n        this.option1.xAxis.data = arr1;\n        this.chart1 = this.$echarts.init(this.$refs.chart1, 'dark');\n        this.chart1.setOption(this.option1);\n      });\n    },\n    initChart2() {\n      this.$http.get('/statistics/s1').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.username);\n          arr2.push(item.count);\n        });\n        this.option2.series[0].data = arr2;\n        this.option2.xAxis.data = arr1;\n        this.chart2 = this.$echarts.init(this.$refs.chart2, 'dark');\n        this.chart2.setOption(this.option2);\n      });\n    },\n    initChart3() {\n      this.$http.get('/statistics/s3').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.deviceName);\n          arr2.push(item.count);\n        });\n        this.option3.series[0].data = arr2;\n        this.option3.xAxis.data = arr1;\n        this.chart3 = this.$echarts.init(this.$refs.chart3, 'dark');\n        this.chart3.setOption(this.option3);\n      });\n    },\n    initChart4() {\n      this.$http.get('/statistics/s2').then(data => {\n        let arr1 = [];\n        let arr2 = [];\n        data.forEach(item => {\n          arr1.push(item.providerName);\n          arr2.push(item.count);\n        });\n        this.option4.series[0].data = arr2;\n        this.option4.xAxis.data = arr1;\n        this.chart4 = this.$echarts.init(this.$refs.chart4, 'dark');\n        this.chart4.setOption(this.option4);\n      });\n    }\n  },\n  mounted() {\n    this.initChart1();\n    this.initChart2();\n    this.initChart3();\n    this.initChart4();\n  },\n  watch: {\n    type1: {\n      handler(newVal, oldVal) {\n        this.option1.series.forEach(item => {\n          item.type = newVal;\n        });\n        this.chart1.setOption(this.option1);\n      }\n    },\n    type2: {\n      handler(newVal, oldVal) {\n        this.option2.series.forEach(item => {\n          item.type = newVal;\n        });\n        this.chart2.setOption(this.option2);\n      }\n    },\n    type3: {\n      handler(newVal, oldVal) {\n        this.option3.series.forEach(item => {\n          item.type = newVal;\n        });\n        this.chart3.setOption(this.option3);\n      }\n    },\n    type4: {\n      handler(newVal, oldVal) {\n        this.option4.series.forEach(item => {\n          item.type = newVal;\n        });\n        this.chart4.setOption(this.option4);\n      }\n    }\n    // theme: {\n    //   handler(newVal, oldVal) {\n    //     this.myChart.dispose()\n    //     this.init()\n    //   }\n    // }\n  }\n};","map":{"version":3,"names":["name","data","chart1","chart2","chart3","chart4","option1","xAxis","type","yAxis","series","option2","option3","option4","type1","theme1","type2","theme2","type3","theme3","type4","theme4","methods","initChart1","$http","get","then","arr1","arr2","forEach","item","push","deptName","count","$echarts","init","$refs","setOption","initChart2","username","initChart3","deviceName","initChart4","providerName","mounted","watch","handler","newVal","oldVal"],"sources":["src/views/StatisticsView.vue"],"sourcesContent":["<template>\r\n<div>\r\n  <div style=\"display: flex; align-items: stretch\">\r\n    <el-card class=\"box-card\" style=\"width: 50%;margin-right: 10px\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>部门员工数量统计</span>\r\n        <div>\r\n          <el-radio-group size=\"mini\" v-model=\"type1\">\r\n            <el-radio-button label=\"bar\">柱状图</el-radio-button>\r\n            <el-radio-button label=\"line\">折线图</el-radio-button>\r\n            <el-radio-button label=\"pie\">饼图</el-radio-button>\r\n            <el-radio-button label=\"scatter\">散点图</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px\">\r\n        <div class=\"box-pie\" style=\"height: 300px;width: 100%;\" ref=\"chart1\"></div>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"box-card\" style=\"width: 50%\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>员工采购次数统计</span>\r\n        <div>\r\n          <el-radio-group size=\"mini\" v-model=\"type2\">\r\n            <el-radio-button label=\"bar\">柱状图</el-radio-button>\r\n            <el-radio-button label=\"line\">折线图</el-radio-button>\r\n            <el-radio-button label=\"pie\">饼图</el-radio-button>\r\n            <el-radio-button label=\"scatter\">散点图</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px\">\r\n        <div class=\"box-pie\" style=\"height: 300px;width: 100%;\" ref=\"chart2\"></div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n  <div style=\"margin-top:10px;display: flex; align-items: stretch\">\r\n    <el-card class=\"box-card\" style=\"width: 50%;margin-right: 10px\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>设备采购次数统计</span>\r\n        <div>\r\n          <el-radio-group size=\"mini\" v-model=\"type3\">\r\n            <el-radio-button label=\"bar\">柱状图</el-radio-button>\r\n            <el-radio-button label=\"line\">折线图</el-radio-button>\r\n            <el-radio-button label=\"pie\">饼图</el-radio-button>\r\n            <el-radio-button label=\"scatter\">散点图</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px\">\r\n        <div class=\"box-pie\" style=\"height: 300px;width: 100%;\" ref=\"chart3\"></div>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"box-card\" style=\"width: 50%\">\r\n      <div slot=\"header\" style=\"display: flex; justify-content: space-between;align-items: center\">\r\n        <span>供应商合作次数统计</span>\r\n        <div>\r\n          <el-radio-group size=\"mini\" v-model=\"type4\">\r\n            <el-radio-button label=\"bar\">柱状图</el-radio-button>\r\n            <el-radio-button label=\"line\">折线图</el-radio-button>\r\n            <el-radio-button label=\"pie\">饼图</el-radio-button>\r\n            <el-radio-button label=\"scatter\">散点图</el-radio-button>\r\n          </el-radio-group>\r\n        </div>\r\n      </div>\r\n      <div style=\"padding: 10px\">\r\n        <div class=\"box-pie\" style=\"height: 300px;width: 100%;\" ref=\"chart4\"></div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"StatisticsView\",\r\n  data() {\r\n    return{\r\n      chart1: null,\r\n      chart2: null,\r\n      chart3: null,\r\n      chart4: null,\r\n      option1 : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'bar'\r\n          }\r\n        ]\r\n      },\r\n      option2 : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'line'\r\n          }\r\n        ]\r\n      },\r\n      option3 : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'pie'\r\n          }\r\n        ]\r\n      },\r\n      option4 : {\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            data: [],\r\n            type: 'scatter'\r\n          }\r\n        ]\r\n      },\r\n      type1:'bar',\r\n      theme1:'dark',\r\n      type2:'line',\r\n      theme2:'dark',\r\n      type3:'pie',\r\n      theme3:'dark',\r\n      type4:'scatter',\r\n      theme4:'dark'\r\n    }\r\n  },\r\n  methods: {\r\n    initChart1() {\r\n      this.$http.get('/statistics/s4')\r\n      .then((data) => {\r\n        let arr1 = []\r\n        let arr2 = []\r\n        data.forEach((item) => {\r\n          arr1.push(item.deptName)\r\n          arr2.push(item.count)\r\n        })\r\n        this.option1.series[0].data = arr2\r\n        this.option1.xAxis.data = arr1\r\n        this.chart1 = this.$echarts.init(this.$refs.chart1,'dark')\r\n        this.chart1.setOption(this.option1)\r\n      })\r\n    },\r\n    initChart2() {\r\n      this.$http.get('/statistics/s1')\r\n          .then((data) => {\r\n            let arr1 = []\r\n            let arr2 = []\r\n            data.forEach((item) => {\r\n              arr1.push(item.username)\r\n              arr2.push(item.count)\r\n            })\r\n            this.option2.series[0].data = arr2\r\n            this.option2.xAxis.data = arr1\r\n            this.chart2 = this.$echarts.init(this.$refs.chart2,'dark')\r\n            this.chart2.setOption(this.option2)\r\n          })\r\n    },\r\n    initChart3() {\r\n      this.$http.get('/statistics/s3')\r\n          .then((data) => {\r\n            let arr1 = []\r\n            let arr2 = []\r\n            data.forEach((item) => {\r\n              arr1.push(item.deviceName)\r\n              arr2.push(item.count)\r\n            })\r\n            this.option3.series[0].data = arr2\r\n            this.option3.xAxis.data = arr1\r\n            this.chart3 = this.$echarts.init(this.$refs.chart3,'dark')\r\n            this.chart3.setOption(this.option3)\r\n          })\r\n    },\r\n    initChart4() {\r\n      this.$http.get('/statistics/s2')\r\n          .then((data) => {\r\n            let arr1 = []\r\n            let arr2 = []\r\n            data.forEach((item) => {\r\n              arr1.push(item.providerName)\r\n              arr2.push(item.count)\r\n            })\r\n            this.option4.series[0].data = arr2\r\n            this.option4.xAxis.data = arr1\r\n            this.chart4 = this.$echarts.init(this.$refs.chart4,'dark')\r\n            this.chart4.setOption(this.option4)\r\n          })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initChart1()\r\n    this.initChart2()\r\n    this.initChart3()\r\n    this.initChart4()\r\n  },\r\n  watch: {\r\n    type1: {\r\n      handler(newVal, oldVal) {\r\n        this.option1.series.forEach((item) => {\r\n          item.type = newVal\r\n        })\r\n        this.chart1.setOption(this.option1)\r\n      }\r\n    },\r\n    type2: {\r\n      handler(newVal, oldVal) {\r\n        this.option2.series.forEach((item) => {\r\n          item.type = newVal\r\n        })\r\n        this.chart2.setOption(this.option2)\r\n      }\r\n    },\r\n    type3: {\r\n      handler(newVal, oldVal) {\r\n        this.option3.series.forEach((item) => {\r\n          item.type = newVal\r\n        })\r\n        this.chart3.setOption(this.option3)\r\n      }\r\n    },\r\n    type4: {\r\n      handler(newVal, oldVal) {\r\n        this.option4.series.forEach((item) => {\r\n          item.type = newVal\r\n        })\r\n        this.chart4.setOption(this.option4)\r\n      }\r\n    },\r\n    // theme: {\r\n    //   handler(newVal, oldVal) {\r\n    //     this.myChart.dispose()\r\n    //     this.init()\r\n    //   }\r\n    // }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}