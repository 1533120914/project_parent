{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { MessageBox } from \"element-ui\";\nimport LoginView from \"@/views/LoginView\";\nimport HomeView from \"@/views/HomeView\";\nimport DeviceTypeSaveView from \"@/views/DeviceTypeSaveView\";\nimport DeviceTypeEditView from \"@/views/DeviceTypeEditView\";\nimport DeviceTypeView from \"@/views/DeviceTypeView\";\nimport DeptView from \"@/views/DeptView\";\nimport DeptDetailView from \"@/views/DeptDetailView\";\nimport DeptSaveView from \"@/views/DeptSaveView\";\nimport AccountSaveView from \"@/views/AccountSaveView\";\nimport ProviderView from \"@/views/ProviderView\";\nimport ProviderDetailView from \"@/views/ProviderDetailView\";\nimport DeviceProcurementView from \"@/views/DeviceProcurementView\";\nimport DeviceProcurementRecordView from \"@/views/DeviceProcurementRecordView\";\nimport ModifyPasswordView from \"@/views/ModifyPasswordView\";\nimport StatisticsView from \"@/views/StatisticsView\";\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  component: LoginView\n}, {\n  path: '/home',\n  component: HomeView,\n  children: [{\n    path: '/device-type/save',\n    component: DeviceTypeSaveView\n  }, {\n    path: '/device-type/edit/:id',\n    component: DeviceTypeEditView\n  }, {\n    path: '/device-type',\n    component: DeviceTypeView\n  }, {\n    path: '/dept/view',\n    component: DeptView\n  }, {\n    path: '/dept/detail/:id',\n    component: DeptDetailView\n  }, {\n    path: '/dept/save',\n    component: DeptSaveView\n  }, {\n    path: '/account/save',\n    component: AccountSaveView\n  }, {\n    path: '/provider',\n    component: ProviderView\n  }, {\n    path: '/provider/detail/:id',\n    component: ProviderDetailView\n  }, {\n    path: '/device/procurement',\n    name: 'DeviceProcurementView',\n    component: DeviceProcurementView\n  }, {\n    path: '/device/procurement/record',\n    component: DeviceProcurementRecordView\n  }, {\n    path: '/modify-password',\n    component: ModifyPasswordView\n  }, {\n    path: '/statistics',\n    component: StatisticsView\n  }]\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\n\n// 路由守卫 (路由拦截器, 拦截每一次的路由请求, 不要与http的拦截器搞混了)\n// beforeEach()这个函数在进入每个路由之前触发\n// to 是要去的路由对象\n// from 是从哪来的路由对象\n// next 是函数 next()放行 next('路由地址')去指定的路由地址\nrouter.beforeEach((to, from, next) => {\n  // 如果要去的路由地址是'/' (去登录界面)\n  if (to.path == '/') {\n    next(); // 直接放行\n    return;\n  }\n  // 如果不是去登录界面, 就要校验他有没有登录\n  // 1. 从存储中获取account\n  let account = localStorage.getItem('account');\n  // 2. 判断account是否为null\n  if (account == null) {\n    // account为null\n    MessageBox.alert('请重新登录', '登录过期', {\n      confirmButtonText: '确定',\n      callback: action => {\n        // 点确定后, 跳转去登录界面\n        next('/');\n      }\n    });\n  } else {\n    // account不为null, 直接放行\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","MessageBox","LoginView","HomeView","DeviceTypeSaveView","DeviceTypeEditView","DeviceTypeView","DeptView","DeptDetailView","DeptSaveView","AccountSaveView","ProviderView","ProviderDetailView","DeviceProcurementView","DeviceProcurementRecordView","ModifyPasswordView","StatisticsView","use","routes","path","component","children","name","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","account","localStorage","getItem","alert","confirmButtonText","callback","action"],"sources":["C:/Users/常/IdeaProjects/project_parent/memsys/memsys-front-end/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport {MessageBox} from \"element-ui\";\r\n\r\nimport LoginView from \"@/views/LoginView\";\r\nimport HomeView from \"@/views/HomeView\";\r\nimport DeviceTypeSaveView from \"@/views/DeviceTypeSaveView\";\r\nimport DeviceTypeEditView from \"@/views/DeviceTypeEditView\";\r\nimport DeviceTypeView from \"@/views/DeviceTypeView\";\r\nimport DeptView from \"@/views/DeptView\";\r\nimport DeptDetailView from \"@/views/DeptDetailView\";\r\nimport DeptSaveView from \"@/views/DeptSaveView\";\r\nimport AccountSaveView from \"@/views/AccountSaveView\";\r\nimport ProviderView from \"@/views/ProviderView\";\r\nimport ProviderDetailView from \"@/views/ProviderDetailView\";\r\nimport DeviceProcurementView from \"@/views/DeviceProcurementView\";\r\nimport DeviceProcurementRecordView from \"@/views/DeviceProcurementRecordView\";\r\nimport ModifyPasswordView from \"@/views/ModifyPasswordView\";\r\nimport StatisticsView from \"@/views/StatisticsView\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  { path:'/', component:LoginView },\r\n  { path:'/home', component:HomeView, children: [\r\n      { path:'/device-type/save', component:DeviceTypeSaveView },\r\n      { path:'/device-type/edit/:id', component:DeviceTypeEditView },\r\n      { path:'/device-type', component:DeviceTypeView },\r\n      { path:'/dept/view', component:DeptView },\r\n      { path:'/dept/detail/:id', component:DeptDetailView },\r\n      { path:'/dept/save', component:DeptSaveView },\r\n      { path:'/account/save', component:AccountSaveView },\r\n      { path:'/provider', component:ProviderView },\r\n      { path:'/provider/detail/:id', component:ProviderDetailView },\r\n      { path:'/device/procurement',name: 'DeviceProcurementView', component:DeviceProcurementView },\r\n      { path:'/device/procurement/record', component:DeviceProcurementRecordView },\r\n      { path:'/modify-password', component:ModifyPasswordView },\r\n      { path:'/statistics', component:StatisticsView },\r\n    ]}\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// 路由守卫 (路由拦截器, 拦截每一次的路由请求, 不要与http的拦截器搞混了)\r\n// beforeEach()这个函数在进入每个路由之前触发\r\n// to 是要去的路由对象\r\n// from 是从哪来的路由对象\r\n// next 是函数 next()放行 next('路由地址')去指定的路由地址\r\nrouter.beforeEach((to, from, next) => {\r\n  // 如果要去的路由地址是'/' (去登录界面)\r\n  if (to.path == '/') {\r\n    next() // 直接放行\r\n    return\r\n  }\r\n  // 如果不是去登录界面, 就要校验他有没有登录\r\n  // 1. 从存储中获取account\r\n  let account = localStorage.getItem('account');\r\n  // 2. 判断account是否为null\r\n  if (account == null){ // account为null\r\n    MessageBox.alert('请重新登录', '登录过期', {\r\n      confirmButtonText: '确定',\r\n      callback: action => {\r\n        // 点确定后, 跳转去登录界面\r\n        next('/')\r\n      }\r\n    })\r\n  }else { // account不为null, 直接放行\r\n    next();\r\n  }\r\n})\r\n\r\nexport default router\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}